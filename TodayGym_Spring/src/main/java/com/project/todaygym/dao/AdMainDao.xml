<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.project.todaygym.dao.AdMainDao">

	<!-- 총원 구하기 -->
	<select id="totalCnt" resultType="Integer">
		SELECT COUNT(*) FROM MEMBER_TB
	</select>

	<!-- 나이대 별 출력 -->
	
	<select id="ageGroup" parameterType="String"
		resultType="com.project.todaygym.dto.AgeGroupDto">
		select year, count(*) as cnt
		from
		(
		select
		floor((to_char(sysdate, 'yyyy') -
		to_char(to_date(substr(m_birth,0,4),'rrrr'),'yyyy')) / 10) * 10 as
		year
		from m
		)
		group by year
		having year > 0

	</select>

</mapper>